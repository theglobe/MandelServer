var loadFractal=function(n,t,i,r){const f=$("#imageContainer"),u=new URL("/Fractal/Mandelbrot","http://localhost:62951/");u.searchParams.append("centerX",n);u.searchParams.append("centerY",t);u.searchParams.append("pixelToWorldScale",i);u.searchParams.append("numIterations",r);f.html(`<img id= 'fractalImage' src="${u.href}"></img>`)},centerX=1,centerY=0,pixelToWorldScale=4/512,numIterations=256,keyHandler=function(n){switch(n.key){case"q":pixelToWorldScale=pixelToWorldScale/2;loadFractal(centerX,centerY,pixelToWorldScale,numIterations);break;case"a":pixelToWorldScale=pixelToWorldScale*2;loadFractal(centerX,centerY,pixelToWorldScale,numIterations);break;case"w":numIterations=numIterations*2;loadFractal(centerX,centerY,pixelToWorldScale,numIterations);break;case"s":numIterations=numIterations/2;loadFractal(centerX,centerY,pixelToWorldScale,numIterations)}},clickHandler=function(n){const t=$("#fractalImage");var i=t.width(),r=t.height();centerX=n.offsetX*pixelToWorldScale+centerX-i*pixelToWorldScale/2;centerY=n.offsetY*pixelToWorldScale+centerY-r*pixelToWorldScale/2;loadFractal(centerX,centerY,pixelToWorldScale,numIterations)};window.addEventListener("keypress",keyHandler);window.onload=function(){const n=$("#imageContainer");n.click(clickHandler);loadFractal(centerX,centerY,pixelToWorldScale,numIterations)};